<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="AIQ">
        
        <link rel="shortcut icon" href="../../../../../img/favicon.ico">
        <title>MySQL指定账号加密方式的方法 - MySkill</title>
        <link href="../../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../../../../..">MySkill</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Database <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">GaussDB</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../GaussDB/GaussDB考试认证指南/">GaussDB考试认证指南</a>
</li>
            
<li >
    <a href="../../../../GaussDB/HCIP-GaussDB-OLTP_V1.0考试大纲/">HCIP-GaussDB-OLTP_V1.0考试大纲</a>
</li>
            
<li >
    <a href="../../../../GaussDB/HCIP-GaussDB-OLTP_华为数据库高级工程师认证培训/">HCIP-GaussDB-OLTP_华为数据库高级工程师认证培训</a>
</li>
            
<li >
    <a href="../../../../GaussDB/模拟试卷/">模拟试卷</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Mysql</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../Mysql/">Mysql</a>
</li>
            
<li >
    <a href="../../../Mysql_OCP/">Mysql_OCP</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">basic</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../Select/">Select</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">InndbArchitecture</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../InndbArchitecture/Untitled/">Untitled</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">SQL</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../Alter_Database/">Alter_Database</a>
</li>
            
<li >
    <a href="../Alter_View/">Alter_View</a>
</li>
            
<li >
    <a href="../CreateDatabase/">CreateDatabase</a>
</li>
            
<li >
    <a href="../CreateIndex/">CreateIndex</a>
</li>
            
<li >
    <a href="../CreateTable/">CreateTable</a>
</li>
            
<li >
    <a href="../CreateView/">CreateView</a>
</li>
            
<li >
    <a href="../Create_Table_2/">Create_Table_2</a>
</li>
            
<li >
    <a href="../Cursor/">Cursor</a>
</li>
            
<li >
    <a href="../Delete/">Delete</a>
</li>
            
<li >
    <a href="../Funtion/">Funtion</a>
</li>
            
<li >
    <a href="../Instert&Update/">Instert&Update</a>
</li>
            
<li class="active">
    <a href="./">MySQL指定账号加密方式的方法</a>
</li>
            
<li >
    <a href="../Select/">Select</a>
</li>
            
<li >
    <a href="../Untitled/">Untitled</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Oracle</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../Oracle/Database_Architacture/">Database_Architacture</a>
</li>
            
<li >
    <a href="../../../../Oracle/Oracle/">Oracle</a>
</li>
            
<li >
    <a href="../../../../Oracle/Rman/">Rman</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">Rac</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../Oracle/Rac/GridInstall/">GridInstall</a>
</li>
            
<li >
    <a href="../../../../Oracle/Rac/RACBuild/">RACBuild</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">ASM</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../Oracle/Rac/ASM/ASM创建失败分析/">ASM创建失败分析</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Life <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../../../../Life/日本使馆各职能部门/">日本使馆各职能部门</a>
</li>
                                    
<li >
    <a href="../../../../../Life/确定一个可操作的目标/">确定一个可操作的目标</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">GeneralEducation</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">Wine</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../Life/GeneralEducation/Wine/酒/">酒</a>
</li>
            
<li >
    <a href="../../../../../Life/GeneralEducation/Wine/酒的误区/">酒的误区</a>
</li>
            
<li >
    <a href="../../../../../Life/GeneralEducation/Wine/酒精中毒/">酒精中毒</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#">define</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../Life/GeneralEducation/Wine/define/乙醛脱氢酶/">乙醛脱氢酶</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">梦呓</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../Life/梦呓/模板/">模板</a>
</li>
            
<li >
    <a href="../../../../../Life/梦呓/模板_(copy)/">模板_(copy)</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Linux <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">BasicCommand</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../../Linux/BasicCommand/fdisk/">fdisk</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../../../../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../Instert&Update/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../Select/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#0">0.加密安全度</a></li>
            <li><a href="#caching_sha2_password-sha256_password-mysql_native_password">caching_sha2_password &gt; sha256_password &gt; mysql_native_password</a></li>
        <li class="main "><a href="#1">1.创建用户</a></li>
            <li><a href="#11">1.1 例子</a></li>
        <li class="main "><a href="#2">2.修改用户</a></li>
            <li><a href="#21">2.1 例子</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Author:AIQ</p>
<p>E-mail:byyelang@gmail.com</p>
<p>[toc]</p>
<h2 id="0"><strong>0.加密安全度</strong></h2>
<h3 id="caching_sha2_password-sha256_password-mysql_native_password"><strong>caching_sha2_password &gt; sha256_password &gt; mysql_native_password</strong></h3>
<blockquote>
<p>The caching_sha2_password and sha256_password authentication plugins provide  more secure password encryption than the mysql_native_password plugin,  and caching_sha2_password provides better performance than sha256_password. 
</p>
</blockquote>
<h2 id="1"><strong>1.创建用户</strong></h2>
<pre><code class="mysql">13.7.1.3 CREATE USER Syntax
CREATE USER [IF NOT EXISTS]
    user [auth_option] [, user [auth_option]] ...
    DEFAULT ROLE role [, role ] ...
    [REQUIRE {NONE | tls_option [[AND] tls_option] ...}]
    [WITH resource_option [resource_option] ...]
    [password_option | lock_option] ...
user:
    (see Section 6.2.4, “Specifying Account Names”)
auth_option: {
    IDENTIFIED BY 'auth_string'
  | IDENTIFIED WITH auth_plugin
  | IDENTIFIED WITH auth_plugin BY 'auth_string'
  | IDENTIFIED WITH auth_plugin AS 'hash_string'
}
tls_option: {
   SSL
 | X509
 | CIPHER 'cipher'
 | ISSUER 'issuer'
 | SUBJECT 'subject'
}
resource_option: {
    MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
}
password_option: {
    PASSWORD EXPIRE [DEFAULT | NEVER | INTERVAL N DAY]
  | PASSWORD HISTORY {DEFAULT | N}
  | PASSWORD REUSE INTERVAL {DEFAULT | N DAY}
  | PASSWORD REQUIRE CURRENT [DEFAULT | OPTIONAL]Account Management Statements
2241
}
lock_option: {
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
The CREATE USER statement creates new MySQL accounts. It enables authentication, role, SSL/TLS,
resource-limit, and password-management properties to be established for new accounts, and controls
whether accounts are initially locked or unlocked.
To use CREATE USER, you must have the global CREATE USER privilege, or the INSERT privilege
for the mysql system database. When the read_only system variable is enabled, CREATE USER
additionally requires the CONNECTION_ADMIN or SUPER privilege.
CREATE USER either succeeds for all named users or rolls back and has no effect if any error occurs.
By default, an error occurs if you try to create a user that already exists. If the IF NOT EXISTS clause
is given, the statement produces a warning for each named user that already exists, rather than an
error.
Important
Under some circumstances, CREATE USER may be recorded in server logs or
on the client side in a history file such as ~/.mysql_history, which means
that cleartext passwords may be read by anyone having read access to that
information. For information about the conditions under which this occurs for the
server logs and how to control it, see Section 6.1.2.3, “Passwords and Logging”.
For similar information about client-side logging, see Section 4.5.1.3, “mysql
Logging”.
</code></pre>

<h3 id="11"><strong>1.1 例子</strong></h3>
<pre><code class="mysql">CREATE USER
  'jeffrey'@'localhost' IDENTIFIED WITH mysql_native_password
                                   BY 'new_password1',
  'jeanne'@'localhost' IDENTIFIED WITH sha256_password
                                  BY 'new_password2'
  REQUIRE X509 WITH MAX_QUERIES_PER_HOUR 60
  PASSWORD HISTORY 5
  ACCOUNT LOCK;
</code></pre>

<h2 id="2"><strong>2.修改用户</strong></h2>
<pre><code class="mysql">13.7.1.1 ALTER USER Syntax
ALTER USER [IF EXISTS]
    user [auth_option] [, user [auth_option]] ...
    [REQUIRE {NONE | tls_option [[AND] tls_option] ...}]
    [WITH resource_option [resource_option] ...]
    [password_option | lock_option] ...Account Management Statements
2230
ALTER USER [IF EXISTS]
    USER() IDENTIFIED BY 'auth_string' [REPLACE 'current_auth_string']
ALTER USER [IF EXISTS]
    user DEFAULT ROLE
    {NONE | ALL | role [, role ] ...}
user:
    (see Section 6.2.4, “Specifying Account Names”)
auth_option: {
    IDENTIFIED BY 'auth_string' [REPLACE 'current_auth_string']
  | IDENTIFIED WITH auth_plugin
  | IDENTIFIED WITH auth_plugin BY 'auth_string' [REPLACE 'current_auth_string']
  | IDENTIFIED WITH auth_plugin AS 'hash_string'
}
tls_option: {
   SSL
 | X509
 | CIPHER 'cipher'
 | ISSUER 'issuer'
 | SUBJECT 'subject'
}
resource_option: {
    MAX_QUERIES_PER_HOUR count
  | MAX_UPDATES_PER_HOUR count
  | MAX_CONNECTIONS_PER_HOUR count
  | MAX_USER_CONNECTIONS count
}
password_option: {
    PASSWORD EXPIRE [DEFAULT | NEVER | INTERVAL N DAY]
  | PASSWORD HISTORY {DEFAULT | N}
  | PASSWORD REUSE INTERVAL {DEFAULT | N DAY}
  | PASSWORD REQUIRE CURRENT [DEFAULT | OPTIONAL]
}
lock_option: {
    ACCOUNT LOCK
  | ACCOUNT UNLOCK
}
The ALTER USER statement modifies MySQL accounts. It enables authentication, role, SSL/TLS,
resource-limit, and password-management properties to be modified for existing accounts, and enables
account locking and unlocking.
In most cases, ALTER USER requires the global CREATE USER privilege, or the UPDATE privilege for
the mysql system database. The exceptions are:
• Any client who connects to the server using a nonanonymous account can change the password for
that account. (In particular, you can change your own password.) To see which account the server
authenticated you as, invoke the CURRENT_USER() function:
SELECT CURRENT_USER();
• For DEFAULT ROLE syntax, ALTER USER requires these privileges:
• Setting the default roles for another user requires the global CREATE USER privilege, or the
UPDATE privilege for the mysql.default_roles system table.
• Setting the default roles for yourself requires no special privileges, as long as the roles you want
as the default have been granted to you.
When the read_only system variable is enabled, ALTER USER additionally requires the
CONNECTION_ADMIN or SUPER privilege.Account Management Statements
2231
By default, an error occurs if you try to modify a user that does not exist. If the IF EXISTS clause is
given, the statement produces a warning for each named user that does not exist, rather than an error.
Important
Under some circumstances, ALTER USER may be recorded in server logs or
on the client side in a history file such as ~/.mysql_history, which means
that cleartext passwords may be read by anyone having read access to that
information. For information about the conditions under which this occurs for the
server logs and how to control it, see Section 6.1.2.3, “Passwords and Logging”.
For similar information about client-side logging, see Section 4.5.1.3, “mysql
Logging”.

</code></pre>

<h3 id="21"><strong>2.1 例子</strong></h3>
<blockquote>
<p>Example: Modify an account to use the sha256_password authentication plugin and the given password. Require that a new password be chosen every 180 days:</p>
</blockquote>
<pre><code class="mysql">ALTER USER 'jeffrey'@'localhost'  IDENTIFIED WITH sha256_password BY 'new_password'  PASSWORD EXPIRE INTERVAL 180 DAY;
</code></pre>

<p>[toc]</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>CallMe:Byyelang@gmail.com</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../../../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../../../../js/base.js" defer></script>
        <script src="../../../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
